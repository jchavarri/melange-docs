<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=3">
  <meta http-equiv="cleartype" content="on">
  <title>
   Miscellaneous — Melange.re
  </title>
  <link href="https://jchavarri.github.io/melange-docs/assets/styles/just-the-docs-default.css" rel="stylesheet">
  <link href="https://jchavarri.github.io/melange-docs/assets/styles/prism.css" rel="stylesheet">
  <link href="https://jchavarri.github.io/melange-docs/assets/styles/main.css" rel="stylesheet">
  <meta name="description" content="Melange is a mixture of tooling combined to produce JavaScript from OCaml &amp; Reason.">
 </head>
 <body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <symbol id="svg-link" viewbox="0 0 24 24">
    <title>
     Link
    </title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
     <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
     <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
    </svg>
   </symbol>
   <symbol id="svg-search" viewbox="0 0 24 24">
    <title>
     Search
    </title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
     <circle cx="11" cy="11" r="8"></circle>
     <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
   </symbol>
   <symbol id="svg-menu" viewbox="0 0 24 24">
    <title>
     Menu
    </title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
     <line x1="3" y1="12" x2="21" y2="12"></line>
     <line x1="3" y1="6" x2="21" y2="6"></line>
     <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
   </symbol>
   <symbol id="svg-arrow-right" viewbox="0 0 24 24">
    <title>
     Expand
    </title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
     <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
   </symbol>
   <symbol id="svg-doc" viewbox="0 0 24 24">
    <title>
     Document
    </title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
     <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
     <polyline points="13 2 13 9 20 9"></polyline>
    </svg>
   </symbol>
  </svg>
  <div class="side-bar">
   <div class="site-header">
    <a href="https://jchavarri.github.io/melange-docs/" class="site-title lh-tight">
        Melange.re </a> <a href="#" id="menu-button" class="site-button"> 
    <svg viewbox="0 0 24 24" class="icon">
     
          
     <use href="#svg-menu"></use>
     
        
    </svg>
     
   </a>
  </div>
  <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
   <ul class="nav-list">
    <li class="nav-list-item">
     <a href="https://jchavarri.github.io/melange-docs/intro" class="nav-list-link">Intro</a>
    </li>
    <li class="nav-list-item">
     <a href="https://jchavarri.github.io/melange-docs/installation" class="nav-list-link">Installation</a>
    </li>
    <li class="nav-list-item active">
     <a href="#" class="nav-list-expander">
     <svg viewbox="0 0 24 24">
      <use href="#svg-arrow-right"></use>
     </svg>
    </a>
    <a href="https://jchavarri.github.io/melange-docs/interop" class="nav-list-link">Interop</a>
    <ul class="nav-list ">
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/cheatsheet" class="nav-list-link">Cheatsheet</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/embed-raw-javascript" class="nav-list-link">Embed Raw JavaScript</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/data-types" class="nav-list-link">Representation of Types</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/intro-to-external" class="nav-list-link">Intro to External</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/bind-to-global-values" class="nav-list-link">Bind to global values</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/null-undefined-option" class="nav-list-link">Null, Undefined &amp; Option</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/object" class="nav-list-link">Object</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/class" class="nav-list-link">Class</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/function" class="nav-list-link">Function</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/property-access" class="nav-list-link">Property access</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/import-export" class="nav-list-link">Import and export</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/regular-expression" class="nav-list-link">Regular expressions</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/exceptions" class="nav-list-link">Exceptions</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/json" class="nav-list-link">JSON</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/pipe-first" class="nav-list-link">Pipe first</a>
     </li>
     <li class="nav-list-item active">
      <a href="https://jchavarri.github.io/melange-docs/interop/misc" class="nav-list-link active">Miscellaneous</a>
     </li>
    </ul>
   </li>
   <li class="nav-list-item">
    <a href="#" class="nav-list-expander">
    <svg viewbox="0 0 24 24">
     <use href="#svg-arrow-right"></use>
    </svg>
   </a>
   <a href="https://jchavarri.github.io/melange-docs/building" class="nav-list-link">Build system</a>
   <ul class="nav-list ">
    <li class="nav-list-item">
     <a href="https://jchavarri.github.io/melange-docs/building/dune-integration" class="nav-list-link">Dune integration</a>
    </li>
    <li class="nav-list-item">
     <a href="https://jchavarri.github.io/melange-docs/building/generators" class="nav-list-link">Generators</a>
    </li>
    <li class="nav-list-item">
     <a href="https://jchavarri.github.io/melange-docs/building/virtual-libraries" class="nav-list-link">Virtual libraries</a>
    </li>
   </ul>
  </li>
 </ul>
</nav>
<footer class="site-footer">
 This site uses a modified version of <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>,
      adapted for <a href="https://soupault.app">Soupault</a>.
</footer>
</div>
<div class="main" id="top">
<div id="main-header" class="main-header">
 <div class="search"></div>
 <div id="toggleSyntaxContainer" class="BtnGroup">
  <button class="btn BtnGroup-item btn-sm" type="button">re</button>
        <button class="btn BtnGroup-item btn-sm" type="button">ml</button>
 </div>
 <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
   <li class="aux-nav-list-item">
    <a href="https://github.com/melange-re/melange" class="site-button" target="_blank" rel="noopener noreferrer"> Melange on GitHub </a>
   </li>
  </ul>
 </nav>
</div>
<div id="main-content-wrap" class="main-content-wrap">
 <div id="content" class="main-content" role="main">
  <h1 id="miscellaneous" data-nav-order="580">
   Miscellaneous
  </h1>
  <ol class="toc">
   <li>
    <a href="#browser-support-and-polyfills">Browser support and polyfills</a>
   </li>
   <li>
    <a href="#composing-bs-attributes">Composing <code>bs</code> Attributes</a>
   </li>
   <li>
    <a href="#safe-external-data-handling">Safe External Data Handling</a>
   </li>
   <li>
    <a href="#nodejs-special-variables">NodeJS special variables</a>
   </li>
  </ol>
  <h2 id="browser-support-and-polyfills">
   <a class="here" href="#browser-support-and-polyfills">→ </a>Browser support and polyfills
  </h2>
  <p>
   Melange compiles to JavaScript <strong>ES5</strong>, with the exception of allowing to compile to ES6 module import/export.
  </p>
  <p>
   For <a href="https://caniuse.com/#search=typed%20array">old browsers</a>, you also need to polyfill TypedArray. The following OCaml standard library functions require it:
  </p>
  <ul>
   <li>
    <code>Int64.float_of_bits</code>
   </li>
   <li>
    <code>Int64.bits_of_float</code>
   </li>
   <li>
    <code>Int32.float_of_bits</code>
   </li>
   <li>
    <code>Int32.bits_of_float</code>
   </li>
  </ul>
  <p>
   If you don't use these functions, you're fine. Otherwise, it'll be a runtime failure.
  </p>
  <h2 id="composing-bs-attributes">
   <a class="here" href="#composing-bs-attributes">→ </a>Composing <code>bs</code> Attributes
  </h2>
  <p>
   As you might have guessed, most <code>bs.*</code> attributes can be used together. Here's an extreme example:
  </p>
  <p>
   Note that <code>bs.splice</code> was renamed to <code>bs.variadic</code> after version 4.08
  </p>
  <div class="tab">
   <a class="button-language-ocaml tablinks" href="#" onclick="openLangTab(event, 'language-ocaml')"><code>ml</code></a><a class="button-language-reason tablinks" href="#" onclick="openLangTab(event, 'language-reason')"><code>re</code></a><a class="tablinks" href="#" onclick="openLangTab(event, 'output-language-javascript')"><code>js</code></a>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">external</span> draw<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">_</span> <span class="token punctuation">[</span><span class="token operator">@</span>bs<span class="token punctuation">.</span><span class="token keyword">as</span> <span class="token string">"dog"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> int array <span class="token operator">-&gt;</span> unit <span class="token operator">=</span> <span class="token string">"draw"</span> <span class="token punctuation">[</span><span class="token operator">@@</span>bs<span class="token punctuation">.</span><span class="token keyword">val</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">@@</span>bs<span class="token punctuation">.</span>scope <span class="token string">"global"</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">@@</span>bs<span class="token punctuation">.</span>variadic<span class="token punctuation">]</span>

<span class="token keyword">let</span> <span class="token punctuation">_</span> <span class="token operator">=</span> draw <span class="token punctuation">[</span><span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token number">2</span><span class="token operator">|</span><span class="token punctuation">]</span>
</code><code class="language-reason"><span class="token punctuation">[</span>@bs<span class="token punctuation">.</span><span class="token keyword">val</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>@bs<span class="token punctuation">.</span>scope <span class="token string">"global"</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>@bs<span class="token punctuation">.</span>variadic<span class="token punctuation">]</span>
<span class="token keyword">external</span> draw<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>@bs<span class="token punctuation">.</span><span class="token keyword">as</span> <span class="token string">"dog"</span><span class="token punctuation">]</span> _<span class="token punctuation">,</span> array<span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> unit <span class="token operator">=</span> <span class="token string">"draw"</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> _ <span class="token operator">=</span> draw<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">|</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">|</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><code class="output-language-javascript">


global<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token string">"dog"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*  Not a pure module */</span>
</code></pre>
  <h2 id="safe-external-data-handling">
   <a class="here" href="#safe-external-data-handling">→ </a>Safe External Data Handling
  </h2>
  <p>
   In some cases, the data could either come from JS or BS; it's very hard to give precise type information because of this. For example, for an external promise whose creation could come from the JS API, its failed value caused by <code>Promise.reject</code> could be of any shape.
  </p>
  <p>
   Melange provides a solution, <code>bs.open</code>, to filter out OCaml structured exception data from the mixed data source. It preserves type safety while allowing you to deal with mixed source. It makes use of OCaml’s extensible variant, so that users can mix values of type <code>exn</code> with JS data.
  </p>
  <div class="tab">
   <a class="button-language-ocaml tablinks" href="#" onclick="openLangTab(event, 'language-ocaml')"><code>ml</code></a><a class="button-language-reason tablinks" href="#" onclick="openLangTab(event, 'language-reason')"><code>re</code></a><a class="tablinks" href="#" onclick="openLangTab(event, 'output-language-javascript')"><code>js</code></a>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">let</span> handleData <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">[</span><span class="token operator">@</span>bs<span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">]</span>
 <span class="token operator">|</span> <span class="token module variable">Invalid_argument</span> <span class="token punctuation">_</span> <span class="token operator">-&gt;</span> <span class="token number">0</span>
 <span class="token operator">|</span> <span class="token module variable">Not_found</span> <span class="token operator">-&gt;</span> <span class="token number">1</span>
 <span class="token operator">|</span> <span class="token module variable">Sys_error</span> <span class="token punctuation">_</span> <span class="token operator">-&gt;</span> <span class="token number">2</span>

<span class="token comment">(* handleData is 'a -&gt; int option *)</span>
</code><code class="language-reason"><span class="token keyword">let</span> handleData <span class="token operator">=</span>
  <span class="token punctuation">[</span>@bs<span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">]</span>
  <span class="token punctuation">(</span>
    <span class="token keyword">fun</span>
    <span class="token operator">|</span> <span class="token constructor variable">Invalid_argument</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">0</span>
    <span class="token operator">|</span> <span class="token constructor variable">Not_found</span> <span class="token operator">=&gt;</span> <span class="token number">1</span>
    <span class="token operator">|</span> <span class="token constructor variable">Sys_error</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token number">2</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* handleData is 'a -&gt; int option */</span>
</code><code class="output-language-javascript">

<span class="token keyword">var</span> Stdlib <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"bs-platform/lib/js/stdlib.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Caml_exceptions <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"bs-platform/lib/js/caml_exceptions.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">handleData</span><span class="token punctuation">(</span><span class="token parameter">match</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>Caml_exceptions<span class="token punctuation">.</span><span class="token function">caml_is_extension</span><span class="token punctuation">(</span>match<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">.</span><span class="token constant">RE_EXN_ID</span> <span class="token operator">===</span> Stdlib<span class="token punctuation">.</span>Invalid_argument<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">.</span><span class="token constant">RE_EXN_ID</span> <span class="token operator">===</span> Stdlib<span class="token punctuation">.</span>Not_found<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>match<span class="token punctuation">.</span><span class="token constant">RE_EXN_ID</span> <span class="token operator">===</span> Stdlib<span class="token punctuation">.</span>Sys_error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
<span class="token punctuation">}</span>

</code></pre>
  <p>
   For any input source, as long as it matches the exception pattern (nested pattern match supported), the matched value is returned, otherwise return <code>None</code>.
  </p>
  <h2 id="nodejs-special-variables">
   <a class="here" href="#nodejs-special-variables">→ </a>NodeJS special variables
  </h2>
  <p>
   NodeJS has several file local variables: <code>__dirname</code>, <code>__filename</code>, <code>_module</code>, and <code>require</code>. Their semantics are more like macros instead of functions.
  </p>
  <p>
   <code>bs.node</code> exposes support for these.
  </p>
  <div class="tab">
   <a class="button-language-ocaml tablinks" href="#" onclick="openLangTab(event, 'language-ocaml')"><code>ml</code></a><a class="button-language-reason tablinks" href="#" onclick="openLangTab(event, 'language-reason')"><code>re</code></a><a class="tablinks" href="#" onclick="openLangTab(event, 'output-language-javascript')"><code>js</code></a>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">let</span> dirname <span class="token punctuation">:</span> string option <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">%</span>bs<span class="token punctuation">.</span>node __dirname<span class="token punctuation">]</span>
<span class="token keyword">let</span> filename <span class="token punctuation">:</span> string option <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">%</span>bs<span class="token punctuation">.</span>node __filename<span class="token punctuation">]</span>
<span class="token keyword">let</span> _module <span class="token punctuation">:</span> <span class="token module variable">Node</span><span class="token punctuation">.</span>node_module option <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">%</span>bs<span class="token punctuation">.</span>node _module<span class="token punctuation">]</span>
<span class="token keyword">let</span> require <span class="token punctuation">:</span> <span class="token module variable">Node</span><span class="token punctuation">.</span>node_require option <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">%</span>bs<span class="token punctuation">.</span>node require<span class="token punctuation">]</span>
</code><code class="language-reason"><span class="token keyword">let</span> dirname<span class="token punctuation">:</span> option<span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>%bs<span class="token punctuation">.</span>node __dirname<span class="token punctuation">]</span><span class="token punctuation">:</span> option<span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> filename<span class="token punctuation">:</span> option<span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>%bs<span class="token punctuation">.</span>node __filename<span class="token punctuation">]</span><span class="token punctuation">:</span> option<span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> _module<span class="token punctuation">:</span> option<span class="token punctuation">(</span><span class="token class-name">Node</span><span class="token punctuation">.</span>node_module<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token punctuation">[</span>%bs<span class="token punctuation">.</span>node _module<span class="token punctuation">]</span><span class="token punctuation">:</span> option<span class="token punctuation">(</span><span class="token class-name">Node</span><span class="token punctuation">.</span>node_module<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> require<span class="token punctuation">:</span> option<span class="token punctuation">(</span><span class="token class-name">Node</span><span class="token punctuation">.</span>node_require<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token punctuation">[</span>%bs<span class="token punctuation">.</span>node require<span class="token punctuation">]</span><span class="token punctuation">:</span> option<span class="token punctuation">(</span><span class="token class-name">Node</span><span class="token punctuation">.</span>node_require<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><code class="output-language-javascript">

<span class="token keyword">var</span> Caml_option <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"bs-platform/lib/js/caml_option.js"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> dirname <span class="token operator">=</span> <span class="token keyword">typeof</span> __dirname <span class="token operator">===</span> <span class="token string">"undefined"</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> __dirname<span class="token punctuation">;</span>

<span class="token keyword">var</span> filename <span class="token operator">=</span> <span class="token keyword">typeof</span> __filename <span class="token operator">===</span> <span class="token string">"undefined"</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> __filename<span class="token punctuation">;</span>

<span class="token keyword">var</span> _module <span class="token operator">=</span> <span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">"undefined"</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> module<span class="token punctuation">;</span>

<span class="token keyword">var</span> $$require <span class="token operator">=</span> <span class="token keyword">typeof</span> require <span class="token operator">===</span> <span class="token string">"undefined"</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> require<span class="token punctuation">;</span>

<span class="token keyword">var</span> dirname$<span class="token number">1</span> <span class="token operator">=</span> dirname <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> Caml_option<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>dirname<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> filename$<span class="token number">1</span> <span class="token operator">=</span> filename <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> Caml_option<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> _module$<span class="token number">1</span> <span class="token operator">=</span> _module <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> Caml_option<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>_module<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> $$require$<span class="token number">1</span> <span class="token operator">=</span> $$require <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> Caml_option<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>$$require<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre>
 </div>
</div>
<div class="search-overlay"></div>
</div>
<script>
function openLangTab(evt, langClassName) {
      evt.stopPropagation();
      evt.preventDefault();
      var i, tabcontent, tablinks;
      var target = evt.currentTarget;
      tabcontents = target.parentNode.nextElementSibling.querySelectorAll("code");
      tabcontents.forEach(function (tabcontent) {
        tabcontent.style.display = "none";
      });
      tablinks = target.parentNode.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      target.parentNode.nextElementSibling.getElementsByClassName(langClassName)[0].style.display = "block";
      evt.currentTarget.className += " active";
      return false;
    }
    Array.from(document.getElementsByClassName("button-language-ocaml")).forEach(function (element) { element.click(); });
</script>
<script>
// Toggle syntax button
    document.addEventListener('DOMContentLoaded', () => {
      const SYNTAXES = ['reason', 'ocaml']
      const CLASS_PREFIX = 'syntax__'
      
      const container = document.querySelector('#toggleSyntaxContainer');
      const re = container.children[0];
      const ml = container.children[1];
      re.addEventListener("click", () => {
        setCurrentSyntax("reason");
      });
      ml.addEventListener("click", () => {
        setCurrentSyntax("ocaml");
      });

      let currentSyntax
      let setCurrentSyntax = (syntax = SYNTAXES[0]) => {
        document.body.classList.remove(`${CLASS_PREFIX}${currentSyntax}`)
        document.body.classList.add(`${CLASS_PREFIX}${syntax}`)
        for (let i = 0; i < container.children.length; i++) {
          container.children[i].classList.remove(`selected`);
        }
        if (syntax === "reason") {
          re.classList.add(`selected`)
        } else {
          ml.classList.add(`selected`)
        }
        Array.from(document.getElementsByClassName(`button-language-${syntax}`)).forEach(function (element) { element.click(); });

        currentSyntax = syntax
        localStorage.setItem('syntax', currentSyntax)
      }

      setCurrentSyntax(localStorage.getItem('syntax', currentSyntax) || SYNTAXES[0])
    })
</script>
<script src="https://jchavarri.github.io/melange-docs/assets/js/just-the-docs.js" type="text/javascript"></script>
</body>
</html>
