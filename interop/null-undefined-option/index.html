<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=3">
  <meta http-equiv="cleartype" content="on">
  <title>
   Null, Undefined &amp; Option — Melange.re
  </title>
  <link href="https://jchavarri.github.io/melange-docs/styles/just-the-docs-default.css" rel="stylesheet">
  <link href="https://jchavarri.github.io/melange-docs/styles/prism.css" rel="stylesheet">
  <link href="https://jchavarri.github.io/melange-docs/styles/main.css" rel="stylesheet">
  <meta name="description" content="Typesettings.css is inspired by traditional graphic design fundamentals and the perfect lite design systems for any minimal website or article design.">
 </head>
 <body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
   <symbol id="svg-link" viewbox="0 0 24 24">
    <title>
     Link
    </title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
     <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
     <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
    </svg>
   </symbol>
   <symbol id="svg-search" viewbox="0 0 24 24">
    <title>
     Search
    </title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
     <circle cx="11" cy="11" r="8"></circle>
     <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
   </symbol>
   <symbol id="svg-menu" viewbox="0 0 24 24">
    <title>
     Menu
    </title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
     <line x1="3" y1="12" x2="21" y2="12"></line>
     <line x1="3" y1="6" x2="21" y2="6"></line>
     <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
   </symbol>
   <symbol id="svg-arrow-right" viewbox="0 0 24 24">
    <title>
     Expand
    </title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
     <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
   </symbol>
   <symbol id="svg-doc" viewbox="0 0 24 24">
    <title>
     Document
    </title>
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
     <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
     <polyline points="13 2 13 9 20 9"></polyline>
    </svg>
   </symbol>
  </svg>
  <div class="side-bar">
   <div class="site-header">
    <a href="https://jchavarri.github.io/melange-docs/" class="site-title lh-tight">
        Melange.re </a> <a href="#" id="menu-button" class="site-button"> 
    <svg viewbox="0 0 24 24" class="icon">
     
          
     <use href="#svg-menu"></use>
     
        
    </svg>
     
   </a>
  </div>
  <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
   <ul class="nav-list">
    <li class="nav-list-item">
     <a href="https://jchavarri.github.io/melange-docs/intro" class="nav-list-link">Intro</a>
    </li>
    <li class="nav-list-item">
     <a href="https://jchavarri.github.io/melange-docs/installation" class="nav-list-link">Installation</a>
    </li>
    <li class="nav-list-item active">
     <a href="#" class="nav-list-expander">
     <svg viewbox="0 0 24 24">
      <use href="#svg-arrow-right"></use>
     </svg>
    </a>
    <a href="https://jchavarri.github.io/melange-docs/interop" class="nav-list-link">Interop</a>
    <ul class="nav-list ">
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/cheatsheet" class="nav-list-link">Cheatsheet</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/embed-raw-javascript" class="nav-list-link">Embed Raw JavaScript</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/data-types" class="nav-list-link">Representation of Types</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/intro-to-external" class="nav-list-link">Intro to External</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/bind-to-global-values" class="nav-list-link">Bind to global values</a>
     </li>
     <li class="nav-list-item active">
      <a href="https://jchavarri.github.io/melange-docs/interop/null-undefined-option" class="nav-list-link active">Null, Undefined &amp; Option</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/object" class="nav-list-link">Object</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/class" class="nav-list-link">Class</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/function" class="nav-list-link">Function</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/property-access" class="nav-list-link">Property access</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/return-value-wrapping" class="nav-list-link">Return value wrapping</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/import-export" class="nav-list-link">Import and export</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/regular-expression" class="nav-list-link">Regular expressions</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/exceptions" class="nav-list-link">Exceptions</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/json" class="nav-list-link">JSON</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/pipe-first" class="nav-list-link">Pipe first</a>
     </li>
     <li class="nav-list-item">
      <a href="https://jchavarri.github.io/melange-docs/interop/misc" class="nav-list-link">Miscellaneous</a>
     </li>
    </ul>
   </li>
   <li class="nav-list-item">
    <a href="#" class="nav-list-expander">
    <svg viewbox="0 0 24 24">
     <use href="#svg-arrow-right"></use>
    </svg>
   </a>
   <a href="https://jchavarri.github.io/melange-docs/building" class="nav-list-link">Build system</a>
   <ul class="nav-list ">
    <li class="nav-list-item">
     <a href="https://jchavarri.github.io/melange-docs/building/dune-integration" class="nav-list-link">Dune integration</a>
    </li>
    <li class="nav-list-item">
     <a href="https://jchavarri.github.io/melange-docs/building/generators" class="nav-list-link">Generators</a>
    </li>
    <li class="nav-list-item">
     <a href="https://jchavarri.github.io/melange-docs/building/virtual-libraries" class="nav-list-link">Virtual libraries</a>
    </li>
   </ul>
  </li>
 </ul>
</nav>
<footer class="site-footer">
 This site uses a modified version of <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>,
      adapted for <a href="https://soupault.app">Soupault</a>.
</footer>
</div>
<div class="main" id="top">
<div id="main-header" class="main-header">
 <div class="search"></div>
 <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
   <li class="aux-nav-list-item">
    <a href="https://github.com/melange-re/melange" class="site-button" target="_blank" rel="noopener noreferrer"> Melange on GitHub </a>
   </li>
  </ul>
 </nav>
</div>
<div id="main-content-wrap" class="main-content-wrap">
 <div id="content" class="main-content" role="main">
  <h1 id="null--undefined---option" data-nav-order="370">
   Null, Undefined &amp; Option
  </h1>
  <ol class="toc">
   <li>
    <a href="#example">Example</a>
   </li>
   <li>
    <a href="#usage">Usage</a>
   </li>
   <li>
    <a href="#interoperate-with-javascript-undefined-and-null">Interoperate with JavaScript <code>undefined</code> and <code>null</code></a>
   </li>
   <ol class="toc">
    <li>
     <a href="#caveat-1">Caveat 1</a>
    </li>
    <li>
     <a href="#caveat-2">Caveat 2</a>
    </li>
    <ol class="toc">
     <li>
      <a href="#solution--more-sophisticated-undefined---null-interop">Solution: More Sophisticated <code>undefined</code> &amp; <code>null</code> Interop</a>
     </li>
     <li>
      <a href="#examples">Examples</a>
     </li>
     <li>
      <a href="#convert-to-from-option">Convert to/from <code>option</code></a>
     </li>
    </ol>
   </ol>
  </ol>
  <p>
   Melange itself doesn't have the notion of <code>null</code> or <code>undefined</code>. This is a <em>great</em> thing, as it wipes out an entire category of bugs. No more <code>undefined is not a function</code>, and <code>cannot access foo of undefined</code>!
  </p>
  <p>
   However, the <strong>concept</strong> of a potentially nonexistent value is still useful, and safely exists in our language.
  </p>
  <p>
   We represent the existence and nonexistence of a value by wrapping it with the <code>option</code> type. Here's its definition from the standard library:
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">type</span> <span class="token type-variable function">'a</span> option <span class="token operator">=</span> <span class="token module variable">None</span> <span class="token operator">|</span> <span class="token module variable">Some</span> <span class="token type-variable function">'a</span>
</code></pre>
  <p>
   It means "a value of type option is either None (nothing) or that actual value wrapped in a Some". You might wonder why we can't drop that <code>Some</code> wrapper and just do the following:
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">type</span> <span class="token type-variable function">'a</span> option <span class="token operator">=</span> <span class="token module variable">None</span> <span class="token operator">|</span> <span class="token type-variable function">'a</span>
</code></pre>
  <p>
   So that the value can be either <code>None</code> or <code>theActualValue</code>. While convenient, there are many reasons why this is undesirable later on. We'll spare the explanation here.
  </p>
  <h2 id="example">
   <a class="here" href="#example">→ </a>Example
  </h2>
  <p>
   Here's a normal value:
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">let</span> licenseNumber <span class="token operator">=</span> <span class="token number">5</span>
</code><code class="language-reason"><span class="token keyword">let</span> licenseNumber <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code><code class="output-language-javascript"><span class="token comment">// Generated by Melange</span>
<span class="token string">'use strict'</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> licenseNumber <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>licenseNumber <span class="token operator">=</span> licenseNumber<span class="token punctuation">;</span>
<span class="token comment">/* No side effect */</span>
</code></pre>
  <p>
   To represent the concept of "maybe null", you'd turn this into an <code>option</code> type by wrapping it. For the sake of a more illustrative example, we'll put a condition around it:
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">let</span> licenseNumber <span class="token operator">=</span>
  <span class="token keyword">if</span> personHasACar <span class="token keyword">then</span>
    <span class="token module variable">Some</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
  <span class="token keyword">else</span>
    <span class="token module variable">None</span>
</code><code class="language-reason"><span class="token keyword">let</span> licenseNumber <span class="token operator">=</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>personHasACar<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token constructor variable">Some</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token constructor variable">None</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
  <p>
   Later on, when another piece of code receives such value, it'd be forced to handle both cases:
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">match</span> licenseNumber <span class="token keyword">with</span>
<span class="token operator">|</span> <span class="token module variable">None</span> <span class="token operator">-&gt;</span> print_endline <span class="token string">"The person doesn't have a car"</span>
<span class="token operator">|</span> <span class="token module variable">Some</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> print_endline <span class="token punctuation">(</span><span class="token string">"The person's license number is "</span> <span class="token operator">^</span> <span class="token punctuation">(</span>string_of_int number<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code><code class="language-reason"><span class="token keyword">switch</span> <span class="token punctuation">(</span>licenseNumber<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token operator">|</span> <span class="token constructor variable">None</span> <span class="token operator">=&gt;</span> print_endline<span class="token punctuation">(</span><span class="token string">"The person doesn't have a car"</span><span class="token punctuation">)</span>
<span class="token operator">|</span> <span class="token constructor variable">Some</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
  print_endline<span class="token punctuation">(</span><span class="token string">"The person's license number is "</span> <span class="token operator">+</span><span class="token operator">+</span> string_of_int<span class="token punctuation">(</span>number<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
  <p>
   By turning your ordinary number into an <code>option</code> type, and by forcing you to handle the <code>None</code> case, the language effectively removed the possibility for you to mishandle, or forget to handle, a conceptual <code>null</code> value!
  </p>
  <h2 id="usage">
   <a class="here" href="#usage">→ </a>Usage
  </h2>
  <p>
   <strong>The <code>Option</code> helper module</strong> is <a href="https://bucklescript.github.io/bucklescript/api/Belt.Option.html">here</a>.
  </p>
  <h2 id="interoperate-with-javascript-undefined-and-null">
   <a class="here" href="#interoperate-with-javascript-undefined-and-null">→ </a>Interoperate with JavaScript <code>undefined</code> and <code>null</code>
  </h2>
  <p>
   The <code>option</code> type is common enough that we special-case it when compiling to JavaScript:
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token module variable">Some</span> <span class="token number">5</span>
</code><code class="language-reason"><span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token constructor variable">Some</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><code class="output-language-javascript"><span class="token comment">// Generated by Melange</span>
<span class="token string">'use strict'</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> t <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>t <span class="token operator">=</span> t<span class="token punctuation">;</span>
<span class="token comment">/* No side effect */</span>
</code></pre>
  <p>
   simply compiles down to <code>5</code>, and
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token module variable">None</span>
</code><code class="language-reason"><span class="token keyword">let</span> t <span class="token operator">=</span> <span class="token constructor variable">None</span><span class="token punctuation">;</span>
</code><code class="output-language-javascript"><span class="token comment">// Generated by Melange</span>
<span class="token string">'use strict'</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> t<span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>t <span class="token operator">=</span> t<span class="token punctuation">;</span>
<span class="token comment">/* No side effect */</span>
</code></pre>
  <p>
   compiles to <code>undefined</code>! If you've got e.g. a string in JavaScript that you know might be <code>undefined</code>, type it as <code>option(string)</code> and you're done! Likewise, you can send a <code>Some(5)</code> or <code>None</code> to the JS side and expect it to be interpreted correctly =)
  </p>
  <h3 id="caveat-1">
   <a class="here" href="#caveat-1">→ </a>Caveat 1
  </h3>
  <p>
   The option-to-undefined translation isn't perfect, because on our side, <code>option</code> values can be composed:
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token module variable">Some</span> <span class="token punctuation">(</span><span class="token module variable">Some</span> <span class="token punctuation">(</span><span class="token module variable">Some</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code><code class="language-reason"><span class="token constructor variable">Some</span><span class="token punctuation">(</span><span class="token constructor variable">Some</span><span class="token punctuation">(</span><span class="token constructor variable">Some</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
  <p>
   This still compiles to <code>5</code>, but this gets troublesome:
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token module variable">Some</span> <span class="token module variable">None</span>
</code><code class="language-reason"><span class="token constructor variable">Some</span><span class="token punctuation">(</span><span class="token constructor variable">None</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
  <p>
   This is compiled into the following JS:
  </p>
  <pre><code class="language-js">Js_primitive.some(undefined);
</code></pre>
  <p>
   What's this <code>Js_primitive</code> thing? Why can't this compile to <code>undefined</code>? Long story short, when dealing polymorphic <code>option</code> type (aka <code>option('a)</code>, for any <code>'a</code>), many operations become tricky if we don't mark the value with some special annotation. If this doesn't make sense, don't worry; just remember the following rule:
  </p>
  <ul>
   <li>
    <strong>Never, EVER, pass a nested <code>option</code> value (e.g. <code>Some(Some(Some(5)))</code>) into the JS side.</strong>
   </li>
   <li>
    <strong>Never, EVER, annotate a value coming from JS as <code>option('a)</code>. Always give the concrete, non-polymorphic type.</strong>
   </li>
  </ul>
  <h3 id="caveat-2">
   <a class="here" href="#caveat-2">→ </a>Caveat 2
  </h3>
  <p>
   Unfortunately, lots of times, your JavaScript value might be <em>both</em> <code>null</code> or <code>undefined</code>. In that case, you unfortunately can't type such value as e.g. <code>option(int)</code>, since our <code>option</code> type only checks for <code>undefined</code> and not <code>null</code> when dealing with a <code>None</code>.
  </p>
  <h4 id="solution--more-sophisticated-undefined---null-interop">
   <a class="here" href="#solution--more-sophisticated-undefined---null-interop">→ </a>Solution: More Sophisticated <code>undefined</code> &amp; <code>null</code> Interop
  </h4>
  <p>
   To solve this, we provide access to more elaborate <code>null</code> and <code>undefined</code> helpers through the <a href="https://bucklescript.github.io/bucklescript/api/Js.Nullable.html"><code>Js.Nullable</code></a> module. This somewhat works like an <code>option</code> type, but is different from it.
  </p>
  <h4 id="examples">
   <a class="here" href="#examples">→ </a>Examples
  </h4>
  <p>
   To create a JS <code>null</code>, use the value <code>Js.Nullable.null</code>. To create a JS <code>undefined</code>, use <code>Js.Nullable.undefined</code> (you can naturally use <code>None</code> too, but that's not the point here; the <code>Js.Nullable.*</code> helpers wouldn't work with it).
  </p>
  <p>
   If you're receiving, for example, a JS string that can be <code>null</code> and <code>undefined</code>, type it as:
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">external</span> myId<span class="token punctuation">:</span> string <span class="token module variable">Js</span><span class="token punctuation">.</span><span class="token module variable">Nullable</span><span class="token punctuation">.</span>t <span class="token operator">=</span> <span class="token string">"myId"</span> <span class="token punctuation">[</span><span class="token operator">@@</span>bs<span class="token punctuation">.</span><span class="token keyword">module</span> <span class="token string">"MyConstant"</span><span class="token punctuation">]</span>
</code><code class="language-reason"><span class="token punctuation">[</span>@bs<span class="token punctuation">.</span><span class="token keyword">module</span> <span class="token string">"MyConstant"</span><span class="token punctuation">]</span> <span class="token keyword">external</span> myId<span class="token punctuation">:</span> <span class="token class-name">Js</span><span class="token punctuation">.</span><span class="token class-name">Nullable</span><span class="token punctuation">.</span>t<span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">"myId"</span><span class="token punctuation">;</span>
</code><code class="output-language-javascript"><span class="token comment">// Generated by Melange</span>
<span class="token comment">/* This output is empty. Its source's type definitions, externals and/or unused code got optimized away. */</span>
</code></pre>
  <p>
   To create such a nullable string from our side (presumably to pass it to the JS side, for interop purpose), do:
  </p>
  <div class="tab">
   <button class="fs-3 btn button-language-ocaml tablinks" onclick="openLangTab(event, 'language-ocaml')">ml</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'language-reason')">re</button><button class="fs-3 btn tablinks" onclick="openLangTab(event, 'output-language-javascript')">output (js)</button>
  </div>
  <pre><code class="language-ocaml"><span class="token keyword">external</span> validate<span class="token punctuation">:</span> string <span class="token module variable">Js</span><span class="token punctuation">.</span><span class="token module variable">Nullable</span><span class="token punctuation">.</span>t <span class="token operator">-&gt;</span> bool <span class="token operator">=</span> <span class="token string">"validate"</span> <span class="token punctuation">[</span><span class="token operator">@@</span>bs<span class="token punctuation">.</span><span class="token keyword">module</span> <span class="token string">"MyIdValidator"</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> personId<span class="token punctuation">:</span> string <span class="token module variable">Js</span><span class="token punctuation">.</span><span class="token module variable">Nullable</span><span class="token punctuation">.</span>t <span class="token operator">=</span> <span class="token module variable">Js</span><span class="token punctuation">.</span><span class="token module variable">Nullable</span><span class="token punctuation">.</span>return <span class="token string">"abc123"</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> validate personId
</code><code class="language-reason"><span class="token punctuation">[</span>@bs<span class="token punctuation">.</span><span class="token keyword">module</span> <span class="token string">"MyIdValidator"</span><span class="token punctuation">]</span>
<span class="token keyword">external</span> validate<span class="token punctuation">:</span> <span class="token class-name">Js</span><span class="token punctuation">.</span><span class="token class-name">Nullable</span><span class="token punctuation">.</span>t<span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> bool <span class="token operator">=</span> <span class="token string">"validate"</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> personId<span class="token punctuation">:</span> <span class="token class-name">Js</span><span class="token punctuation">.</span><span class="token class-name">Nullable</span><span class="token punctuation">.</span>t<span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token class-name">Js</span><span class="token punctuation">.</span><span class="token class-name">Nullable</span><span class="token punctuation">.</span>return<span class="token punctuation">(</span><span class="token string">"abc123"</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name">Js</span><span class="token punctuation">.</span><span class="token class-name">Nullable</span><span class="token punctuation">.</span>t<span class="token punctuation">(</span>string<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> validate<span class="token punctuation">(</span>personId<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code><code class="output-language-javascript"><span class="token comment">// Generated by Melange</span>
<span class="token string">'use strict'</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> MyIdValidator <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"MyIdValidator"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> personId <span class="token operator">=</span> <span class="token string">"abc123"</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> result <span class="token operator">=</span> MyIdValidator<span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span>personId<span class="token punctuation">)</span><span class="token punctuation">;</span>

exports<span class="token punctuation">.</span>personId <span class="token operator">=</span> personId<span class="token punctuation">;</span>
exports<span class="token punctuation">.</span>result <span class="token operator">=</span> result<span class="token punctuation">;</span>
<span class="token comment">/* result Not a pure module */</span>
</code></pre>
  <p>
   The <code>return</code> part "wraps" a string into a nullable string, to make the type system understand and track the fact that, as you pass this value around, it's not just a string, but a string that can be <code>null</code> or <code>undefined</code>.
  </p>
  <p>
   The <code>.t</code> in <code>Js.Nullable.t</code> is an OCaml convention.
<code>Js.Nullable.t</code> denotes the primary data type that module <code>Js.Nullable</code> operates on.
Most of the time, this <code>t</code> type is also usually an <a href="https://reasonml.github.io/docs/en/module#creation-1">abstract type</a> i.e. you do not know (and should not have to know) the internal representation of <code>t</code>.
However, in the case of <code>Js.Nullable.t('a)</code>, you can guess that it's something a long the line of <code>type Js.Nullable.t('a) = Js.Nullable.null | Js.Nullable.undefined | Some('a)</code>.
  </p>
  <h4 id="convert-to-from-option">
   <a class="here" href="#convert-to-from-option">→ </a>Convert to/from <code>option</code>
  </h4>
  <p>
   <code>Js.Nullable.fromOption</code> converts from a <code>option</code> to <code>Js.Nullable.t</code>. <code>Js.Nullable.toOption</code> does the opposite.
  </p>
 </div>
</div>
<div class="search-overlay"></div>
</div>
<script>
function openLangTab(evt, langClassName) {
      var i, tabcontent, tablinks;
      var target = evt.currentTarget;
      tabcontents = target.parentNode.nextElementSibling.querySelectorAll("code");
      tabcontents.forEach(function (tabcontent) {
        tabcontent.style.display = "none";
      });
      tablinks = target.parentNode.getElementsByClassName("tablinks");
      for (i = 0; i < tablinks.length; i++) {
        tablinks[i].className = tablinks[i].className.replace(" active", "");
      }
      target.parentNode.nextElementSibling.getElementsByClassName(langClassName)[0].style.display = "block";
      evt.currentTarget.className += " active";
    }
    Array.from(document.getElementsByClassName("button-language-ocaml")).forEach(function (element) { element.click(); });
</script>
<script src="https://jchavarri.github.io/melange-docs/js/just-the-docs.js" type="text/javascript"></script>
</body>
</html>
